<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Autocomplete Service</title>
	<style type="text/css">
		.cls{
		width:100%;
		height:50px;
		background-color:black;

		}

	  body {
       font-family:Arial, Helvetica, sans-serif;
	font-size:12px;
        text-align: center;

       }

      #txtacomp{
      	width:230px;
	height:30px;
	outline:none;
	padding:0px 10px;
	margin:0px auto;
	display:block;


      }

      label{
      	text-align: center;
      	color: #000000;
      	font-weight: bold;
      	font-style: italic;
      	font-size: 30px;


      }
	</style>
</head>
<body>

		<div class="cls">
		</div>
	  <form id="send" action="/form" method="POST">
	  <label>Auto Complete</label>
	  <br><br>
	  <input id="txtacomp" list="dlid" type="text" oninput = "sendform()"/>
	  <datalist id="dlid" >

	  </datalist>
	  </form>

		<script type="text/javascript">
		//document.getElementById("txtacomp")

			function sendform(){
				var http = new XMLHttpRequest();
				var params =  document.getElementById('txtacomp').value;
          var datalist=document.getElementById('dlid');
				var values;
        var option;

				http.onreadystatechange = function() {
						if (this.readyState == 4 && this.status == 200) {
              document.getElementById('dlid').innerHTML="";
							values = http.responseText;
							values = JSON.parse(values);
              console.log(values);
              console.log(typeof values);

              values.forEach(function(item) {
                console.log("asd");
              option = document.createElement('option');
              option.value = item;

              datalist.appendChild(option);
               });
              // document.getElementById('dlid').innerHTML = "";
							// for(var i = 0; i < values.length; i++){
	            //   options += '<option value="'+values[i]+'" />';
              //   document.getElementById('dlid').innerHTML = options;

								}


						}



				http.open("POST", "http://localhost:8076/" + params, true);
				http.send();
			}
		</script>
</body>
</html>
<html>
